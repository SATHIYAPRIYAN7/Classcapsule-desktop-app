<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClassCapsule Recorder</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      width: 100%;
      height: 100vh;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #ffffff 100%);
      color: #1f2937;
      overflow: hidden;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      height: 100vh;
      position: relative;
    }
    
    .title-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 16px;
      background-color: #f3f4f6;
      border-bottom: 1px solid #e5e7eb;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      z-index: 10;
      -webkit-app-region: drag;
    }
    
    .title-bar-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .app-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .app-title-text {
      font-size: 14px;
      font-weight: 600;
      color: #374151;
    }
    
    .title-bar-right {
      display: flex;
      gap: 8px;
      -webkit-app-region: no-drag;
    }
    
    .title-bar-btn {
      background: none;
      border: none;
      padding: 8px;
      cursor: pointer;
      border-radius: 6px;
      transition: background-color 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .title-bar-btn:hover {
      background-color: #e5e7eb;
    }
    
    .minimize-btn {
      color: #6b7280;
    }
    
    .close-btn {
      color: #ef4444;
    }
    
    .close-btn:hover {
      background-color: #fee2e2;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px 20px 16px;
      position: relative;
      z-index: 2;
    }
    
    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 16px 24px;
      border-radius: 20px;
      border: 2px solid rgba(239, 68, 68, 0.2);
      box-shadow: 0 8px 32px rgba(239, 68, 68, 0.15);
    }
    
    .logo {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 18px;
    }
    
    .app-title {
      color: #ef4444;
      font-size: 20px;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(239, 68, 68, 0.1);
    }
    
    .app-subtitle {
      color: #6b7280;
      font-size: 13px;
      font-weight: 500;
    }
    
    .main-content {
      flex: 1;
      padding: 0 20px;
      position: relative;
      z-index: 2;
      overflow-y: auto;
      max-width: 600px;
      margin: 0 auto;
      width: 100%;
      max-height: calc(100vh - 200px);
      scrollbar-width: thin;
      scrollbar-color: #ef4444 #f3f4f6;
    }
    
    .main-content::-webkit-scrollbar {
      width: 6px;
    }
    
    .main-content::-webkit-scrollbar-track {
      background: #f3f4f6;
      border-radius: 3px;
    }
    
    .main-content::-webkit-scrollbar-thumb {
      background-color: #ef4444;
      border-radius: 3px;
    }
    
    .auth-section {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 20px;
      border: 2px solid rgba(239, 68, 68, 0.1);
      box-shadow: 0 20px 40px rgba(239, 68, 68, 0.1);
    }
    
    .auth-tabs {
      display: flex;
      background: #f9fafb;
      border-radius: 16px;
      padding: 6px;
      margin-bottom: 24px;
      position: relative;
    }
    
    .auth-tab {
      flex: 1;
      padding: 12px 20px;
      background: transparent;
      border: none;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      color: #6b7280;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .auth-tab.active {
      color: white;
      background: linear-gradient(135deg, #ef4444, #dc2626);
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
      transform: translateY(-1px);
    }
    
    .auth-content {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .auth-content.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-input {
      width: 100%;
      padding: 16px 20px;
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      font-size: 15px;
      background: white;
      transition: all 0.3s ease;
      outline: none;
      font-family: inherit;
    }
    
    .form-input:focus {
      border-color: #ef4444;
      box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
      transform: translateY(-1px);
    }
    
    .form-input::placeholder {
      color: #9ca3af;
    }
    
    .btn {
      width: 100%;
      padding: 16px 24px;
      border: none;
      border-radius: 16px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      text-decoration: none;
      outline: none;
      position: relative;
      overflow: hidden;
      font-family: inherit;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
      box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(239, 68, 68, 0.4);
    }
    
    .btn-success {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
      box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(239, 68, 68, 0.4);
    }
    
    .btn-danger {
      background: linear-gradient(135deg, #dc2626, #b91c1c);
      color: white;
      box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3);
      animation: pulse 2s infinite;
    }
    
    .btn-danger:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(220, 38, 38, 0.4);
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3); }
      50% { box-shadow: 0 8px 25px rgba(220, 38, 38, 0.5); }
      100% { box-shadow: 0 8px 20px rgba(220, 38, 38, 0.3); }
    }
    
    .btn-secondary {
      background: white;
      color: #6b7280;
      border: 2px solid #e5e7eb;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .btn-secondary:hover {
      background: #f9fafb;
      border-color: #ef4444;
      color: #ef4444;
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(239, 68, 68, 0.1);
    }
    
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }
    
    .btn-loading {
      position: relative;
      color: transparent;
    }
    
    .btn-loading:after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      margin: -10px 0 0 -10px;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .recording-controls {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 20px;
      border: 2px solid rgba(239, 68, 68, 0.1);
      box-shadow: 0 20px 40px rgba(239, 68, 68, 0.1);
    }
    
    .status-indicator {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 20px;
      border-radius: 16px;
      margin-bottom: 24px;
      font-size: 15px;
      font-weight: 600;
      background: linear-gradient(135deg, #f0fdf4, #dcfce7);
      color: #166534;
      border: 2px solid rgba(22, 101, 52, 0.1);
    }
    
    .status-indicator.recording {
      background: linear-gradient(135deg, #fef2f2, #fee2e2);
      color: #dc2626;
      border-color: rgba(220, 38, 38, 0.1);
    }
    
    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #22c55e;
    }
    
    .status-dot.recording {
      background: #ef4444;
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.3; }
    }
    
    .timer {
      font-family: 'Courier New', monospace;
      font-size: 20px;
      font-weight: bold;
      color: #ef4444;
    }
    
    .controls-grid {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .secondary-controls {
      display: flex;
      flex-direction: row;
      gap: 16px;
      margin-top: 16px;
    }
    
    .footer {
      padding: 20px;
      text-align: center;
      color: rgba(255, 255, 255, 0.9);
      font-size: 13px;
      position: relative;
      z-index: 2;
      font-weight: 500;
    }
    
    .hidden {
      display: none !important;
    }
    
    .icon {
      width: 18px;
      height: 18px;
      fill: currentColor;
      flex-shrink: 0;
      vertical-align: middle;
      transform: translateY(-1px);
    }
    
    .message {
      padding: 16px 20px;
      border-radius: 12px;
      font-size: 14px;
      margin-top: 16px;
      text-align: center;
      font-weight: 500;
    }
    
    .message.error {
      background: #fef2f2;
      color: #dc2626;
      border: 2px solid #fee2e2;
    }
    
    .message.success {
      background: #f0fdf4;
      color: #166534;
      border: 2px solid #dcfce7;
    }
    
    .authenticated .auth-section {
      display: none;
    }
    
    .authenticated .recording-controls {
      display: block;
    }
    
    .authenticated .upload-status-section {
      display: block;
    }
    
    /* Recording controls are hidden by default and shown when authenticated */
    .recording-controls {
      display: none;
    }
    
    .upload-status-section {
      display: none;
    }
    
    .recording-controls .secondary-controls {
      display: flex;
    }
    
    /* Upload Status Section */
    .upload-status-section {
      background: #f9fafb;
      border-radius: 20px;
      padding: 20px;
      margin-top: 20px;
      border: 2px solid #f3f4f6;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .section-header h3 {
      margin: 0;
      font-size: 16px;
      font-weight: 600;
      color: #374151;
    }
    
    .btn-clear {
      background: none;
      border: none;
      color: #ef4444;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.2s ease;
    }
    
    .btn-clear:hover {
      background: #fef2f2;
    }
    
    .upload-list {
      max-height: 200px;
      overflow-y: auto;
    }
    
    .upload-item {
      background: white;
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 8px;
      border: 1px solid #e5e7eb;
      transition: all 0.2s ease;
    }
    
    .upload-item:hover {
      border-color: #d1d5db;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .upload-item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .upload-filename {
      font-size: 13px;
      font-weight: 500;
      color: #374151;
      max-width: 200px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    .upload-status {
      font-size: 11px;
      font-weight: 500;
      padding: 2px 6px;
      border-radius: 4px;
    }
    
    .upload-status.uploading {
      background: #fef3c7;
      color: #d97706;
    }
    
    .upload-status.success {
      background: #dcfce7;
      color: #166534;
    }
    
    .upload-status.error {
      background: #fef2f2;
      color: #dc2626;
    }
    
    .upload-progress {
      width: 100%;
      height: 4px;
      background: #e5e7eb;
      border-radius: 2px;
      overflow: hidden;
      margin-bottom: 6px;
    }
    
    .upload-progress-bar {
      height: 100%;
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border-radius: 2px;
      transition: width 0.3s ease;
    }
    
    .upload-details {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: #6b7280;
    }
    
    .upload-time {
      font-size: 11px;
      color: #9ca3af;
    }
    
    .upload-size {
      font-size: 11px;
      color: #6b7280;
    }
    
    .audio-controls {
      background: #f9fafb;
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 16px;
      border: 2px solid #f3f4f6;
    }
    
    .control-group {
      margin-bottom: 16px;
    }
    
    .control-group:last-child {
      margin-bottom: 0;
    }
    
    .control-label {
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      font-weight: 600;
      color: #374151;
      margin-bottom: 6px;
    }
    
    .control-label input[type="checkbox"] {
      display: none;
    }
    
    .checkbox-custom {
      width: 20px;
      height: 20px;
      border: 2px solid #d1d5db;
      border-radius: 6px;
      background: white;
      position: relative;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    
    .control-label input[type="checkbox"]:checked + .checkbox-custom {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border-color: #ef4444;
    }
    
    .control-label input[type="checkbox"]:checked + .checkbox-custom::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
    
    .label-text {
      font-size: 14px;
      font-weight: 600;
      color: #374151;
    }
    
    .control-description {
      font-size: 12px;
      color: #6b7280;
      margin-left: 32px;
      line-height: 1.4;
    }
    
    .control-label:hover .checkbox-custom {
      border-color: #ef4444;
      transform: scale(1.05);
    }
    
    /* Recording Mode Selector Styles - Compact Version */
    .recording-mode-selector {
      background: #f9fafb;
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 16px;
      border: 2px solid #f3f4f6;
    }
    
    .mode-options {
      display: flex;
      gap: 12px;
      margin-top: 8px;
    }
    
    .mode-options .control-label {
      flex: 1;
      margin-bottom: 0;
      padding: 8px 12px;
      background: white;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      transition: all 0.2s ease;
    }
    
    .mode-options .control-label:hover {
      border-color: #ef4444;
    }
    
    .mode-options input[type="radio"] {
      display: none;
    }
    
    .mode-options .checkbox-custom {
      width: 16px;
      height: 16px;
      border-radius: 50%;
    }
    
    .mode-options input[type="radio"]:checked + .checkbox-custom {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border-color: #ef4444;
    }
    
    .mode-options input[type="radio"]:checked + .checkbox-custom::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
    }
    
    .mode-options input[type="radio"]:checked ~ .label-text {
      color: #ef4444;
    }
    
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(4px);
    }
    
    .modal {
      background: white;
      border-radius: 20px;
      padding: 32px;
      max-width: 450px;
      width: 90%;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(239, 68, 68, 0.1);
    }
    
    .modal h3 {
      margin-bottom: 16px;
      color: #374151;
      font-size: 20px;
      font-weight: 700;
    }
    
    .modal p {
      margin-bottom: 24px;
      color: #6b7280;
      line-height: 1.6;
      font-size: 15px;
    }
    
    .modal-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
    }
    
    .modal-buttons .btn {
      width: auto;
      min-width: 120px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-content {
        padding: 0 16px;
      }
      
      .auth-section,
      .recording-controls {
        padding: 24px;
        border-radius: 20px;
      }
      
      .header {
        padding: 12px 16px 12px;
        margin-bottom: 14px;
      }
      
      .title-bar {
        padding: 6px 12px;
        margin-bottom: 14px;
      }
      
      .app-title-text {
        font-size: 13px;
      }
      
      .logo-container {
        padding: 12px 20px;
        gap: 10px;
      }
      
      .logo {
        width: 36px;
        height: 36px;
        font-size: 16px;
      }
      
      .app-title {
        font-size: 18px;
      }
      
      .secondary-controls {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .modal {
        padding: 24px;
        margin: 20px;
      }
      
      .modal-buttons {
        flex-direction: column;
      }
      
      .recording-mode-selector {
        padding: 12px;
      }
      
      .mode-options {
        gap: 8px;
      }
      
      .mode-options .control-label {
        padding: 6px 10px;
      }
    }

    @media (max-width: 480px) {
      .auth-section,
      .recording-controls {
        padding: 20px;
        margin-bottom: 16px;
      }
      
      .btn {
        padding: 14px 20px;
        font-size: 14px;
      }
      
      .form-input {
        padding: 14px 16px;
        font-size: 14px;
      }
      
      .status-indicator {
        padding: 16px;
        font-size: 14px;
      }
      
      .audio-controls {
        padding: 16px;
      }
      
      .control-description {
        margin-left: 28px;
        font-size: 11px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="background-pattern"></div>
    
    <!-- Custom Title Bar -->
    <div class="title-bar">
      <div class="title-bar-left">
        <div class="app-icon">
          <img src="assets/logo-class-capsule.png" alt="ClassCapsule" style="width: 20px; height: 20px;">
        </div>
        <span class="app-title-text">ClassCapsule Recorder</span>
      </div>
      <div class="title-bar-right">
        <button id="minimize-btn" class="title-bar-btn minimize-btn">
          <div style="width: 12px; height: 2px; background-color: #000;"></div>
        </button>
        <button id="close-btn" class="title-bar-btn close-btn">
          <svg viewBox="0 0 24 24" width="16" height="16">
            <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
          </svg>
        </button>
      </div>
    </div>
    
    <div class="header">
      <div class="logo-container">
        <div><img src="assets/logo-class-capsule.png" alt="ClassCapsule Logo" style="width: 32px; height: 32px;"></div>
        <div>
          <div class="app-title">ClassCapsule</div>
          <div class="app-subtitle">Recorder v2.0 - Desktop</div>
        </div>
      </div>
    </div>
    
    <div class="main-content">
      <!-- Authentication Section -->
      <div class="auth-section" id="auth-section">
        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="login">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
            </svg>
            Login
          </button>
          <button class="auth-tab" data-tab="token">
           <svg style="width: 16px; height:16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2.984V2h-.09c-.313 0-.616.062-.909.185a2.33 2.33 0 0 0-.775.53 2.23 2.23 0 0 0-.493.753v.001a3.542 3.542 0 0 0-.198.83v.002a6.08 6.08 0 0 0-.024.863c.012.29.018.58.018.869 0 .203-.04.393-.117.572v.001a1.504 1.504 0 0 1-.765.787 1.376 1.376 0 0 1-.558.115H2v.984h.09c.195 0 .38.04.556.121l.001.001c.178.078.329.184.455.318l.002.002c.13.13.233.285.307.465l.001.002c.078.18.117.368.117.566 0 .29-.006.58-.018.869-.012.296-.004.585.024.87v.001c.033.283.099.558.197.824v.001c.106.273.271.524.494.753.223.23.482.407.775.53.293.123.596.185.91.185H6v-.984h-.09c-.2 0-.387-.038-.563-.115a1.613 1.613 0 0 1-.457-.32 1.659 1.659 0 0 1-.309-.467c-.074-.18-.11-.37-.11-.573 0-.228.003-.453.011-.672.008-.228.008-.45 0-.665a4.639 4.639 0 0 0-.055-.64 2.682 2.682 0 0 0-.168-.609A2.284 2.284 0 0 0 3.522 8a2.284 2.284 0 0 0 .738-.955c.08-.192.135-.393.168-.602.033-.21.051-.423.055-.64.008-.22.008-.442 0-.666-.008-.224-.012-.45-.012-.678a1.47 1.47 0 0 1 .877-1.354 1.33 1.33 0 0 1 .563-.121H6zm4 10.032V14h.09c.313 0 .616-.062.909-.185.293-.123.552-.3.775-.53.223-.23.388-.48.493-.753v-.001c.1-.266.165-.543.198-.83v-.002c.028-.28.036-.567.024-.863-.012-.29-.018-.58-.018-.869 0-.203.04-.393.117-.572v-.001a1.502 1.502 0 0 1 .765-.787 1.38 1.38 0 0 1 .558-.115H14v-.984h-.09c-.196 0-.381-.04-.557-.121l-.001-.001a1.376 1.376 0 0 1-.455-.318l-.002-.002a1.415 1.415 0 0 1-.307-.465v-.002a1.405 1.405 0 0 1-.118-.566c0-.29.006-.58.018-.869a6.174 6.174 0 0 0-.024-.87v-.001a3.537 3.537 0 0 0-.197-.824v-.001a2.23 2.23 0 0 0-.494-.753 2.331 2.331 0 0 0-.775-.53 2.325 2.325 0 0 0-.91-.185H10v.984h.09c.2 0 .387.038.562.115.174.082.326.188.457.32.127.134.23.29.309.467.074.18.11.37.11.573 0 .228-.003.452-.011.672-.008.228-.008.45 0 .665.004.222.022.435.055.64.033.214.089.416.168.609a2.285 2.285 0 0 0 .738.955 2.285 2.285 0 0 0-.738.955 2.689 2.689 0 0 0-.168.602c-.033.21-.051.423-.055.64a9.15 9.15 0 0 0 0 .666c.008.224.012.45.012.678a1.471 1.471 0 0 1-.877 1.354 1.33 1.33 0 0 1-.563.121H10z"/></svg>
            Token
          </button>
        </div>
        
        <!-- Login Form -->
        <div id="login-content" class="auth-content active">
          <div class="form-group">
            <input type="email" id="email" class="form-input" placeholder="Enter your email" required>
          </div>
          <div class="form-group">
            <input type="password" id="password" class="form-input" placeholder="Enter your password" required>
          </div>
          <button id="login-btn" class="btn btn-primary">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
            </svg>
            Sign In
          </button>
          <div id="login-message" class="message hidden"></div>
        </div>
        
        <!-- Token Form -->
        <div id="token-content" class="auth-content">
          <div class="form-group">
            <input type="text" id="auth-token" class="form-input" placeholder="Paste your JWT token here">
          </div>
          <button id="save-token" class="btn btn-primary">
           <svg style="width: 16px; height:16px;"  viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 2.984V2h-.09c-.313 0-.616.062-.909.185a2.33 2.33 0 0 0-.775.53 2.23 2.23 0 0 0-.493.753v.001a3.542 3.542 0 0 0-.198.83v.002a6.08 6.08 0 0 0-.024.863c.012.29.018.58.018.869 0 .203-.04.393-.117.572v.001a1.504 1.504 0 0 1-.765.787 1.376 1.376 0 0 1-.558.115H2v.984h.09c.195 0 .38.04.556.121l.001.001c.178.078.329.184.455.318l.002.002c.13.13.233.285.307.465l.001.002c.078.18.117.368.117.566 0 .29-.006.58-.018.869-.012.296-.004.585.024.87v.001c.033.283.099.558.197.824v.001c.106.273.271.524.494.753.223.23.482.407.775.53.293.123.596.185.91.185H6v-.984h-.09c-.2 0-.387-.038-.563-.115a1.613 1.613 0 0 1-.457-.32 1.659 1.659 0 0 1-.309-.467c-.074-.18-.11-.37-.11-.573 0-.228.003-.453.011-.672.008-.228.008-.45 0-.665a4.639 4.639 0 0 0-.055-.64 2.682 2.682 0 0 0-.168-.609A2.284 2.284 0 0 0 3.522 8a2.284 2.284 0 0 0 .738-.955c.08-.192.135-.393.168-.602.033-.21.051-.423.055-.64.008-.22.008-.442 0-.666-.008-.224-.012-.45-.012-.678a1.47 1.47 0 0 1 .877-1.354 1.33 1.33 0 0 1 .563-.121H6zm4 10.032V14h.09c.313 0 .616-.062.909-.185.293-.123.552-.3.775-.53.223-.23.388-.48.493-.753v-.001c.1-.266.165-.543.198-.83v-.002c.028-.28.036-.567.024-.863-.012-.29-.018-.58-.018-.869 0-.203.04-.393.117-.572v-.001a1.502 1.502 0 0 1 .765-.787 1.38 1.38 0 0 1 .558-.115H14v-.984h-.09c-.196 0-.381-.04-.557-.121l-.001-.001a1.376 1.376 0 0 1-.455-.318l-.002-.002a1.415 1.415 0 0 1-.307-.465v-.002a1.405 1.405 0 0 1-.118-.566c0-.29.006-.58.018-.869a6.174 6.174 0 0 0-.024-.87v-.001a3.537 3.537 0 0 0-.197-.824v-.001a2.23 2.23 0 0 0-.494-.753 2.331 2.331 0 0 0-.775-.53 2.325 2.325 0 0 0-.91-.185H10v.984h.09c.2 0 .387.038.562.115.174.082.326.188.457.32.127.134.23.29.309.467.074.18.11.37.11.573 0 .228-.003.452-.011.672-.008.228-.008.45 0 .665.004.222.022.435.055.64.033.214.089.416.168.609a2.285 2.285 0 0 0 .738.955 2.285 2.285 0 0 0-.738.955 2.689 2.689 0 0 0-.168.602c-.033.21-.051.423-.055.64a9.15 9.15 0 0 0 0 .666c.008.224.012.45.012.678a1.471 1.471 0 0 1-.877 1.354 1.33 1.33 0 0 1-.563.121H10z"/></svg>
            Save Token
          </button>
          <div id="token-message" class="message hidden"></div>
        </div>
      </div>
      
      <!-- Recording Controls -->
      <div class="recording-controls" id="recording-controls">
        <div class="status-indicator" id="status-indicator">
          <div class="status-dot" id="status-dot"></div>
          <span id="status-text">Ready to record</span>
          <span class="timer hidden" id="timer">00:00</span>
        </div>
        
        <div class="audio-controls">
          <div class="control-group">
            <label class="control-label">
              <input type="checkbox" id="system-audio-toggle" checked>
              <span class="checkbox-custom"></span>
              <span class="label-text">System Audio</span>
            </label>
            <div class="control-description">Record audio from applications and system sounds</div>
          </div>
          
          <div class="control-group">
            <label class="control-label">
              <input type="checkbox" id="mic-audio-toggle" checked>
              <span class="checkbox-custom"></span>
              <span class="label-text">Microphone</span>
            </label>
            <div class="control-description">Record audio from your microphone</div>
          </div>
        </div>
        
        <!-- Compact Recording Mode Selector -->
        <div class="recording-mode-selector">
          <div class="control-group">
            <label class="control-label">
              <span class="label-text">Recording Mode:</span>
            </label>
            <div class="mode-options">
              <label class="control-label">
                <input type="radio" name="recording-mode" value="video-audio" checked>
                <span class="checkbox-custom"></span>
                <span class="label-text">Video + Audio</span>
              </label>
              <label class="control-label">
                <input type="radio" name="recording-mode" value="audio-only">
                <span class="checkbox-custom"></span>
                <span class="label-text">Audio Only</span>
              </label>
            </div>
          </div>
        </div>
        
        <div class="controls-grid">
          <button id="start-recording" class="btn btn-success">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M8.5,8.64L13.77,12L8.5,15.36V8.64M6.5,5V19L17.5,12"/>
            </svg>
            Start Recording
          </button>
          
          <button id="stop-recording" class="btn btn-danger hidden">
            <svg class="icon" viewBox="0 0 24 24">
              <path d="M18,18H6V6H18V18Z"/>
            </svg>
            Stop Recording
          </button>
          
          <div class="secondary-controls">
            <button id="settings" class="btn btn-secondary">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11.03L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11.03C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/>
              </svg>
              Settings
            </button>
            
            <button id="logout" class="btn btn-secondary">
              <svg class="icon" viewBox="0 0 24 24">
                <path d="M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z"/>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
      
      <!-- Upload Status Section -->
      <div class="upload-status-section">
        <div class="section-header">
          <h3>Latest Recordings</h3>
          <button id="clear-uploads" class="btn-clear">Clear History</button>
        </div>
        <div id="upload-list" class="upload-list">
          <!-- Upload items will be dynamically added here -->
        </div>
      </div>
    </div>
    
    <div class="footer">
      <p>ClassCapsule Recorder v2.0 - Desktop • © 2024 ClassCapsule</p>
    </div>
  </div>

  <!-- Recording Warning Modal -->
  <div id="recording-warning-modal" class="modal-overlay hidden">
    <div class="modal">
      <h3>Recording in progress</h3>
      <p>You have an active recording. Do you want to stop the recording and close the application?</p>
      <div class="modal-buttons">
        <button id="cancel-close" class="btn btn-secondary">Cancel</button>
        <button id="force-close" class="btn btn-danger">Stop & Close</button>
      </div>
    </div>
  </div>

  <script src="renderer-config.js"></script>
  <script src="renderer.js"></script>
</body>
</html>